site_name: RecSys
repo_url: https://github.com/aatuh/recsys

docs_dir: docs
site_dir: site
use_directory_urls: true  # /pricing/ instead of /pricing.html

theme:
  name: material
  features:
    - navigation.instant
    - navigation.tabs
    - navigation.top
    - search.suggest
    - content.code.copy

plugins:
  - search

markdown_extensions:
  - admonition
  - attr_list
  - footnotes
  - tables
  - toc:
      permalink: true
  - pymdownx.details
  - pymdownx.highlight
  - pymdownx.inlinehilite
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: pymdownx.superfences.fence_code_format
  - pymdownx.tabbed:
      alternate_style: true

extra_javascript:
  - https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js
  - javascripts/mermaid-init.js

nav:
  - Home: index.md
  - Start here: start-here/index.md

  - Licensing & Pricing:
      - Licensing: licensing/index.md
      - Evaluation license: licensing/eval_license.md
      - Commercial Use & Licensing: licensing/commercial.md
      - Commercial license: licensing/commercial_license.md
      - Pricing: licensing/pricing.md
      - Order Form: licensing/order_form.md

  - RecSys:
      - Start here:
          - Start here (overview): start-here/index.md
          - Suite context diagram: start-here/diagrams/suite-context.md
          - Local end-to-end: tutorials/local-end-to-end.md
          - Deploy with Helm: how-to/deploy-helm.md
          - Run eval and ship: how-to/run-eval-and-ship.md
          - Integrate service: how-to/integrate-recsys-service.md
          - Operate pipelines: how-to/operate-pipelines.md

      - Explanation:
          - Suite architecture: explanation/suite-architecture.md
          - Candidate vs ranking: explanation/candidate-vs-ranking.md
          - Data modes: explanation/data-modes.md
          - Exposure logging & attribution: explanation/exposure-logging-and-attribution.md
          - Surface namespaces: explanation/surface-namespaces.md

      - Tutorials:
          - Local end-to-end: tutorials/local-end-to-end.md
          - Tiny dataset (README): tutorials/datasets/tiny/README.md

      - How-to:
          - Deploy with Helm: how-to/deploy-helm.md
          - Integrate service: how-to/integrate-recsys-service.md
          - Operate pipelines: how-to/operate-pipelines.md
          - Run eval and ship: how-to/run-eval-and-ship.md

      - Reference:
          - API:
              - OpenAPI: reference/api/openapi.yaml
              - Admin & bootstrap: reference/api/admin.md
          - CLI:
              - Overview: reference/cli/index.md
              - recsys-eval: reference/cli/recsys-eval.md
              - recsys-pipelines: reference/cli/recsys-pipelines.md
          - Config:
              - Overview: reference/config/index.md
              - recsys-service: reference/config/recsys-service.md
              - recsys-eval: reference/config/recsys-eval.md
              - recsys-pipelines: reference/config/recsys-pipelines.md
          - Data contracts:
              - Overview: reference/data-contracts/index.md
              - Eval events: reference/data-contracts/eval-events.md
              - Field catalog: reference/data-contracts/field-catalog.md
          - Database:
              - Overview: reference/database/index.md
              - Schema: reference/database/schema.md
              - Migrations: reference/database/migrations.md
              - DB-only seeding: reference/database/db-only-seeding.md

      - Operations:
          - Performance & capacity: operations/performance-and-capacity.md
          - Runbooks:
              - Empty recs: operations/runbooks/empty-recs.md
              - Rollback config rules: operations/runbooks/rollback-config-rules.md
              - Service not ready: operations/runbooks/service-not-ready.md

  - RecSys Algo:
      - Index: recsys-algo/index.md
      - Concepts: recsys-algo/concepts.md
      - Store ports: recsys-algo/store-ports.md
      - Examples: recsys-algo/examples.md
      - Releases: recsys-algo/releases.md

  - RecSys Eval:
      - Index: recsys-eval/docs/index.md
      - RecSys Eval Overview: recsys-eval/overview.md
      - Architecture: recsys-eval/docs/architecture.md
      - CI Gates: recsys-eval/docs/ci_gates.md
      - Concepts: recsys-eval/docs/concepts.md
      - Data Contracts: recsys-eval/docs/data_contracts.md
      - Integration: recsys-eval/docs/integration.md
      - Interleaving: recsys-eval/docs/interleaving.md
      - Interpreting Results: recsys-eval/docs/interpreting_results.md
      - Metrics: recsys-eval/docs/metrics.md
      - OPE: recsys-eval/docs/ope.md
      - Roadmap: recsys-eval/docs/roadmap.md
      - Runbooks: recsys-eval/docs/runbooks.md
      - Scaling: recsys-eval/docs/scaling.md
      - Security & Privacy: recsys-eval/docs/security_privacy.md
      - Style: recsys-eval/docs/style.md
      - Troubleshooting: recsys-eval/docs/troubleshooting.md

  - RecSys Pipelines:
      - Index: recsys-pipelines/docs/index.md
      - RecSys Pipelines Overview: recsys-pipelines/overview.md
      - Start here: recsys-pipelines/docs/start-here.md
      - Learning paths:
          - Engineer: recsys-pipelines/docs/learning-paths/engineer.md
          - Data engineer: recsys-pipelines/docs/learning-paths/data-engineer.md
          - SRE / on-call: recsys-pipelines/docs/learning-paths/sre-oncall.md
          - Product / stakeholders: recsys-pipelines/docs/learning-paths/product.md
      - Tutorials:
          - Local quickstart: recsys-pipelines/docs/tutorials/local-quickstart.md
          - Job-per-container mode: recsys-pipelines/docs/tutorials/job-mode.md
      - How-to:
          - Run a backfill: recsys-pipelines/docs/how-to/run-backfill.md
          - Debug failures: recsys-pipelines/docs/how-to/debug-failures.md
          - Roll back the manifest: recsys-pipelines/docs/how-to/rollback-manifest.md
          - Add artifact type: recsys-pipelines/docs/how-to/add-artifact-type.md
          - Add event field: recsys-pipelines/docs/how-to/add-event-field.md
      - Explanation:
          - Architecture: recsys-pipelines/docs/explanation/architecture.md
          - Data lifecycle: recsys-pipelines/docs/explanation/data-lifecycle.md
          - Windows and backfills: recsys-pipelines/docs/explanation/windows-and-backfills.md
          - Artifacts and versioning: recsys-pipelines/docs/explanation/artifacts-and-versioning.md
          - Validation and guardrails: recsys-pipelines/docs/explanation/validation-and-guardrails.md
          - Documentation approach: recsys-pipelines/docs/explanation/documentation-approach.md
      - Reference:
          - CLI: recsys-pipelines/docs/reference/cli.md
          - Config: recsys-pipelines/docs/reference/config.md
          - Output layout: recsys-pipelines/docs/reference/output-layout.md
          - Exit codes: recsys-pipelines/docs/reference/exit-codes.md
          - Event schema: recsys-pipelines/docs/reference/schemas-events.md
          - Artifact schema: recsys-pipelines/docs/reference/schemas-artifacts.md
      - Operations:
          - SLOs and freshness: recsys-pipelines/docs/operations/slos-and-freshness.md
          - Runbooks:
              - Pipeline failed: recsys-pipelines/docs/operations/runbooks/pipeline-failed.md
              - Validation failed: recsys-pipelines/docs/operations/runbooks/validation-failed.md
              - Limit exceeded: recsys-pipelines/docs/operations/runbooks/limit-exceeded.md
              - Stale artifacts: recsys-pipelines/docs/operations/runbooks/stale-artifacts.md
      - Contributing:
          - Dev workflow: recsys-pipelines/docs/contributing/dev-workflow.md
          - Style guide: recsys-pipelines/docs/contributing/style.md
          - Releasing: recsys-pipelines/docs/contributing/releasing.md
      - ADRs:
          - ADR index: recsys-pipelines/docs/adr/README.md
          - Template: recsys-pipelines/docs/adr/template.md

  - Project:
      - Index: project/index.md
      - Docs style guide: project/docs-style.md
      - Glossary: project/glossary.md
      - Code of Conduct: project/code_of_conduct.md
      - Contributing: project/contributing.md
      - Governance: project/governance.md
      - License Directory Notes: project/licenses_readme.md
      - Security Policy: project/security.md
      - Support: project/support.md
