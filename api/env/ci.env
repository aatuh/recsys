API_PORT=8000
DATABASE_URL=postgres://recsys:recsys@db:5432/recsys?sslmode=disable
ENV=test
APP_DEBUG=false
ORG_ID=00000000-0000-0000-0000-000000000001

POPULARITY_HALFLIFE_DAYS=4
COVIS_WINDOW_DAYS=28
POPULARITY_FANOUT=900
MMR_LAMBDA=0.25
BRAND_CAP=1
CATEGORY_CAP=2
BRAND_TAG_PREFIXES=brand
CATEGORY_TAG_PREFIXES=category,cat
RULE_EXCLUDE_EVENTS=true
EXCLUDE_EVENT_TYPES=3
PURCHASED_WINDOW_DAYS=180

PROFILE_WINDOW_DAYS=30
PROFILE_BOOST=0.5
PROFILE_TOP_N=64
PROFILE_MIN_EVENTS_FOR_BOOST=5
PROFILE_COLD_START_MULTIPLIER=0.3
PROFILE_STARTER_BLEND_WEIGHT=0.75
PROFILE_STARTER_DECAY_EVENTS=4
PROFILE_STARTER_PRESETS='{"new_users":{"electronics":0.22,"books":0.18,"home":0.15,"fashion":0.15,"beauty":0.10,"fitness":0.10,"outdoors":0.10}}'
PROFILE_MIN_EVENTS_FOR_BOOST=3
PROFILE_COLD_START_MULTIPLIER=0.85
PROFILE_STARTER_BLEND_WEIGHT=0.85
MMR_PRESETS=home=0.25,product_detail=0.35,search=0.2,email=0.3

BLEND_ALPHA=0.1
BLEND_BETA=0.35
BLEND_GAMMA=0.55
BLEND_WEIGHTS_OVERRIDES=
NEW_USER_BLEND_ALPHA=0.25
NEW_USER_BLEND_BETA=0.45
NEW_USER_BLEND_GAMMA=0.3
NEW_USER_MMR_LAMBDA=0.15
NEW_USER_POP_FANOUT=60

BANDIT_ALGO=thompson
BANDIT_EXPERIMENT_ENABLED=false
BANDIT_EXPERIMENT_HOLDOUT_PERCENT=0.0
BANDIT_EXPERIMENT_SURFACES=
BANDIT_EXPERIMENT_LABEL=scenario_ci

RULES_ENABLE=true
RULES_CACHE_REFRESH=2s
RULES_MAX_PIN_SLOTS=3
RULES_AUDIT_SAMPLE=1.0

AUDIT_DECISIONS_ENABLED=true
AUDIT_DECISIONS_SAMPLE_DEFAULT=1.0
AUDIT_DECISIONS_SAMPLE_OVERRIDES=-
AUDIT_DECISIONS_QUEUE=1024
AUDIT_DECISIONS_BATCH=200
AUDIT_DECISIONS_FLUSH_INTERVAL=250ms
AUDIT_DECISIONS_SALT=ci_salt

LLM_EXPLAIN_ENABLED=false
LLM_PROVIDER=
LLM_MODEL_PRIMARY=fallback
LLM_MODEL_ESCALATE=
LLM_TIMEOUT=6s
LLM_MAX_TOKENS=1200
LLM_API_KEY=
LLM_BASE_URL=

MIGRATE_ON_START=true
MIGRATIONS_DIR=migrations
CORS_ALLOWED_ORIGINS=http://localhost:3000
CORS_ALLOW_CREDENTIALS=true

COVERAGE_CACHE_TTL=10m
COVERAGE_LONG_TAIL_HINT_THRESHOLD=0.01

API_AUTH_ENABLED=false
API_AUTH_KEYS=
API_RATE_LIMIT_RPM=0
API_RATE_LIMIT_BURST=60
