API_PORT=8000 # fill_in
DATABASE_URL=postgres://recsys:recsys@db:5432/recsys?sslmode=disable # fill_in
ENV=dev # fill_in dev, development, local (others are non-dev)
APP_DEBUG=true # fill_in
ORG_ID=00000000-0000-0000-0000-000000000001 # fill_in

POPULARITY_HALFLIFE_DAYS=4 # fill_in, integer
COVIS_WINDOW_DAYS=28 # fill_in
POPULARITY_FANOUT=1400 # fill_in
MMR_LAMBDA=0.12 # fill_in
BRAND_CAP=1 # fill_in
CATEGORY_CAP=2 # fill_in
BRAND_TAG_PREFIXES=brand # fill_in comma-separated prefixes
CATEGORY_TAG_PREFIXES=category,cat # fill_in comma-separated prefixes
RULE_EXCLUDE_EVENTS=true # fill_in
EXCLUDE_EVENT_TYPES=3 # fill_in, comma-separated event type ids
PURCHASED_WINDOW_DAYS=180 # fill_in

PROFILE_WINDOW_DAYS=30 # fill_in
PROFILE_BOOST=0.15 # fill_in, 0 disables personalization
PROFILE_TOP_N=64 # fill_in
PROFILE_MIN_EVENTS_FOR_BOOST=5 # fill_in, minimum recent events before full boost
PROFILE_COLD_START_MULTIPLIER=0.3 # fill_in, 0-1 attenuation for sparse history
PROFILE_STARTER_BLEND_WEIGHT=0.25 # fill_in
NEW_USER_BLEND_ALPHA=0.8 # optional override for new-users blend alpha
NEW_USER_BLEND_BETA=0.15 # optional override for new-users blend beta
NEW_USER_BLEND_GAMMA=0.05 # optional override for new-users blend gamma
NEW_USER_MMR_LAMBDA=0.6 # optional override for new-users mmr lambda (0-1)
MMR_PRESETS=home=0.25,product_detail=0.35,search=0.2,email=0.3 # fill_in, surface=value pairs for mmr_lambda

BLEND_ALPHA=0.1 # fill_in
BLEND_BETA=0.35 # fill_in
BLEND_GAMMA=0.55 # fill_in
BLEND_WEIGHTS_OVERRIDES= # fill_in namespace=alpha|beta|gamma entries separated by commas (e.g. default=0.3|0.5|0.2,home=0.25|0.35|0.4)
COVERAGE_CACHE_TTL=10m # optional, refresh interval for coverage metadata cache
COVERAGE_LONG_TAIL_HINT_THRESHOLD=0.01 # optional, popularity_hint threshold for long-tail bucket

BANDIT_ALGO=thompson # fill_in, [thompson, ucb1]
BANDIT_EXPERIMENT_ENABLED=true # fill_in [false, true]
BANDIT_EXPERIMENT_HOLDOUT_PERCENT=0.1 # fill_in, 0-1 fraction of traffic routed to control
BANDIT_EXPERIMENT_SURFACES=home,cart # fill_in comma-separated surfaces or leave blank for all
BANDIT_EXPERIMENT_LABEL=bandit_exploration_rt7d # fill_in label used in logs/metrics

RULES_ENABLE=false # fill_in [false, true]
RULES_CACHE_REFRESH=2s # fill_in, Go duration syntax (e.g. 2s)
RULES_MAX_PIN_SLOTS=3 # fill_in positive integer
RULES_AUDIT_SAMPLE=1.0 # fill_in, 0.0-1.0

AUDIT_DECISIONS_ENABLED=true # fill_in [false, true]
AUDIT_DECISIONS_SAMPLE_DEFAULT=1.0 # fill_in, 0.0-1.0
AUDIT_DECISIONS_SAMPLE_OVERRIDES=- # fill_in namespace=rate pairs, comma-separated
AUDIT_DECISIONS_QUEUE=1024 # fill_in, positive integer
AUDIT_DECISIONS_BATCH=200 # fill_in, positive integer
AUDIT_DECISIONS_FLUSH_INTERVAL=250ms # fill_in, Go duration string
AUDIT_DECISIONS_SALT=replace_me # fill_in, secret salt for user hashing

LLM_EXPLAIN_ENABLED=false # fill_in [false, true]
LLM_PROVIDER=openai # fill_in provider name
LLM_MODEL_PRIMARY=o4-mini # fill_in primary model
LLM_MODEL_ESCALATE=o3 # fill_in escalation model
LLM_TIMEOUT=6s # fill_in duration
LLM_MAX_TOKENS=1200 # fill_in positive integer
LLM_API_KEY= # fill_in provider api key
LLM_BASE_URL=https://api.openai.com/v1/responses # fill_in override if needed

MIGRATE_ON_START=true # fill_in [false, true]
MIGRATIONS_DIR=migrations # fill_in
CORS_ALLOWED_ORIGINS=https://mymachine.local,https://demo.mymachine.local,http://localhost:3000,http://127.0.0.1:3000 # fill_in comma,separated
CORS_ALLOW_CREDENTIALS=true # fill_in [false, true]

API_AUTH_ENABLED=false # fill_in [false, true]
API_AUTH_KEYS=key123:org-uuid-a|org-uuid-b,admin-key:* # fill_in, value as example
API_RATE_LIMIT_RPM=0 # fill_in >=0 requests per minute (0 disables limiting)
API_RATE_LIMIT_BURST=60 # fill_in >0 burst size when limiting enabled
